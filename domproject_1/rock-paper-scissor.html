<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock-Paper-Scissor</title>
</head>
<body>
    <h1>Rock Paper Scissor</h1>
    <button onclick="
    playRPS('Rock')
    ">Rock</button>
    <button onclick="
    playRPS('Paper')
    ">Paper</button>
    <button onclick="
    playRPS('Scissor')
    ">Scissor</button>
    <label id="result"></label>
    <p id="score-tally">Wins :0 || Losses :0 || Ties :0 </p>
    <button 
    onclick="update(0,0,0)"
    >Reset Score</button>
    <script>
        let win = 0, loss = 0, tie = 0;
        const moves = new Map([
            ['RockScissor',1],
            ['PaperRock',1],
            ['ScissorPaper',1],
            ['ScissorRock',0],
            ['PaperScissor',0],
            ['RockPaper',0]
          ]
        )
        function playRPS(playerMove){
            let compMove = computerMove();
            if(compMove == playerMove){
                    tie +=1;
                    displayRes('tie',playerMove,compMove);
            }
            else{
                if(moves.get(playerMove+compMove) === 1){
                    win +=1;
                    displayRes('win',playerMove,compMove);
                }
                else{
                    loss +=1;
                    displayRes('loss',playerMove,compMove);
                }
            }
            update(win,loss,tie);
        }
        function computerMove(){
            let number = Math.round(Math.random()*8+1);
            console
            if(number<=3){
                return 'Rock';
            }
            else if(number<=6){
                return 'Paper';
            }
            else{
                return 'Scissor';
            }
        }
        function displayRes(result,playerMove,compMove){
            const toDisplay=document.querySelector('#result');
            if(result === 'tie'){
                toDisplay.innerHTML= `
                Game was Tied
                you chose ${playerMove} 
                computer chose ${compMove}
                `;
            }
            else if(result === 'win'){
                toDisplay.innerHTML= `
                You won ðŸ˜ŽðŸ˜Ž
                you chose ${playerMove} 
                computer chose ${compMove}
                `;
            }
            else {
                toDisplay.innerHTML=`
                You Lost
                ðŸ˜£ðŸ˜£
                you chose ${playerMove}
                computer chose ${compMove}
                `;
            }
        }
        function update(win,loss,tie){
            const tally = document.getElementById('score-tally');
            tally.innerHTML = `Wins :${win} || Losses :${loss} ||Ties :${tie}`;
        }
    </script>
</body>
</html>